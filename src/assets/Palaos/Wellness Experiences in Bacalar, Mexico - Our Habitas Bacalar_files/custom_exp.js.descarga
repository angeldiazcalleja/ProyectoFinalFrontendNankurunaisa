$(document).ready(function(){fetchExpPosts();fetchEventsPosts(property='',type='');ex=6;$('.event_load_more_btn').click(function(e){e.preventDefault();loadEventMoreBtn($(this).data('count'),'#loadPress .event_item','.event_load_more_btn')});$(document).on('change','#filter_property',function(e){e.preventDefault();$('.event_post').empty();fetchEventsPosts($(this).find(":selected").val(),$('#filter_type').find(":selected").val())});$(document).on('change','#filter_type',function(e){e.preventDefault();$('.event_post').empty();fetchEventsPosts($('#filter_property').find(":selected").val(),$(this).find(":selected").val())});function fetchExpPosts(){$.ajax({url:customexpjs.ajaxurl,type:'post',data:{screen_type:$('.exp_post').data('type'),action:'fetch_experience_posts',query_vars:customexpjs.query_vars,},beforeSend:function(){$('.exp_post').empty();$('.skeleton-loader-sec-exp').show()},success:function(result){$('.skeleton-loader-sec-exp').hide();var data=$.parseJSON(result);$('.exp_post').append(data.result.item);expCarousel()}})}});function fetchEventsPosts(property,etype){$.ajax({url:customexpjs.ajaxurl,type:'post',data:{property:property,etype:etype,action:'fetch_events_posts',query_vars:customexpjs.query_vars,},beforeSend:function(){$('.event_post').empty();$('.skeleton-loader-sec').show()},success:function(result){var data=$.parseJSON(result);$('.skeleton-loader-sec').hide();$('.event_post').append(data.result.item);size_li=$("#loadPress .event_item").length;ex=6;$('#loadPress .event_item').slice(0,6).show();$('.event_load_more_btn').attr('data-count',data.result.mcount);if(data.result.mcount<=6){$('.event_load_more').hide();$('.event_load_more_btn').hide()}else{$('.event_load_more').show();$('.event_load_more_btn').show()}}})}
function loadEventMoreBtn(size_li,selector,btn_selector){ex=(ex+3<=size_li)?ex+3:size_li;$(selector).slice(0,ex).slideDown();if(ex==size_li){$(btn_selector).hide()}else{$(btn_selector).show()}}
function expCarousel(){new Swiper(".exp__carousel",{slidesPerView:"auto",spaceBetween:32,speed:800,loop:!0,centeredSlides:!0,autoplay:{delay:3000,disableOnInteraction:!1,},breakpoints:{320:{spaceBetween:16,},768:{spaceBetween:20,},1025:{spaceBetween:28,},1281:{spaceBetween:32,},}})}